/**
 * @author: Kapil Kashyap
 */
(function(){let e,t,s,a,l,o,i,d,n,c,h,u,p,L,y,m,g,v,E,S,f,A,b,q,w,T,k,C,P,M,_,N,O,I,R=3,U=3,B="north",z=B,x=0,D=440,G=40,V=40,K=[],Y=["classic","challenge","maze"],W=["classic","challenge","maze"],H="classic",X=!1,j=!1,F=25,Z=[],J=[],Q=[],$=[],ee=[],te=0,se=document.querySelector(".game-indicator .progress-bar"),ae=1,re=document.querySelector(".level>.value"),le=!1,oe=0,ie=document.querySelector(".score>.value"),de=0,ne=document.querySelector(".time>.value"),ce=function(){return!!/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)&&(document.body.style.zoom=/iPad/i.test(navigator.userAgent)?"175%":"200%",document.body.classList.add("portable-device"),!0)}(),he={START:ce?"Press play button to start.":"Press space bar to start.",RESET:ce?"Press reset button.":"Press 'R' to reset.",PAUSE:ce?"":"Press space bar to pause.",RESUME:ce?"Press play button to resume.":"Press space bar to resume.",LIVES_REMAINING:"lives remaining!",LIFE_REMAINING:"life remaining!",GAME_OVER:"Game over!",CONGRATULATIONS:"Congratulations",LEVEL_UNLOCKED:"level unlocked!",AMAZING:"Amazing",ALL_LEVELS_COMPLETED:"all levels completed!",TOP_3_SCORES:"Your top 3 scores will appear here...",PLAY_BUTTON_LABEL:"Play",PAUSE_BUTTON_LABEL:"Pause",DISCLAIMER:"Works best on desktop.",EXCLAMATION:"!",COMMA:", ",SPACE:" "};var ue=function(){let e=document.querySelector(".game-arena-display"),t=e.getBoundingClientRect(),s=e.querySelector("div"),i=ke(s),d=document.createElement("DIV"),n=null,h=1,u=1;a=Math.floor(t.height/i.height),l=Math.floor(t.width/i.width),o=l*a,K=[0,l],s.remove();for(let t=0;t<o;t++)u=t%l+1,t>=l&&1===u&&h++,n=d.cloneNode(),n.setAttribute("data",[h,u]),n.setAttribute("class","empty rc_"+h+"_"+u),e.appendChild(n);St(K),Ve(),N=Ye(),Be(he.START),pe()},pe=function(){document.querySelectorAll(".life .value span").forEach(function(e){e.innerHTML="&#9829;"}),ce?(document.querySelector(".game-actions").classList.remove("hide"),ze(),document.querySelector(".instructions .tutorial").classList.add("hide"),document.querySelector(".tutorial div").addEventListener("touchstart",function(e){e.stopPropagation(),e.preventDefault(),document.querySelector(".tutorial-overlay").classList.remove("hide"),document.querySelector(".image-container img:nth-child(1)").classList.remove("hidden"),document.querySelector(".image-selection .indicator:nth-child(1)").style.background="#888"},{passive:!1}),document.querySelectorAll(".image-container img").forEach(function(e){let t=document.querySelector(".image-selection");e.addEventListener("touchstart",function(e){e.stopPropagation(),e.preventDefault();let s=+this.id;this.classList.add("hidden"),t.querySelector(".indicator:nth-child("+s+")").style.background="",t.querySelector(".indicator:nth-child("+(4==s?1:s+1)+")").style.background="#888",this.nextElementSibling?this.nextElementSibling.classList.remove("hidden"):document.querySelector(".image-container img").classList.remove("hidden")},{passive:!1})}),document.querySelector(".tutorial-overlay").addEventListener("touchstart",function(e){e.stopPropagation(),e.preventDefault(),document.querySelectorAll(".image-container img").forEach(function(e){e.classList.add("hidden")}),document.querySelectorAll(".image-selection .indicator").forEach(function(e){e.style.background=""}),this.classList.add("hide")},{passive:!1}),document.querySelector(".body-container").addEventListener("touchstart",function(e){let t=e.changedTouches[0];p=t.pageX,L=t.pageY,E=new Date().getTime(),X=!0,j=!1,e.preventDefault()},{passive:!1}),document.querySelector(".body-container").addEventListener("touchend",function(e){if(X){let t=e.changedTouches[0];y=t.pageX,m=t.pageY,g=y-p,v=m-L,S=new Date().getTime()-E,A=Math.abs(Math.atan(v/g)*(180/Math.PI)),j=Math.abs(g)>F&&Math.abs(v)>F,S<=300&&(0<g&&0>v?A<b?f=["east"]:A>q?f=["north"]:j&&(f=["east","north"]):0>g&&0>v?A<b?f=["west"]:A>q?f=["north"]:j&&(f=["west","north"]):0>g&&0<v?A<b?f=["west"]:A>q?f=["south"]:j&&(f=["west","south"]):0<g&&0<v&&(A<b?f=["east"]:A>q?f=["south"]:j&&(f=["east","south"])),Le(f)),X=!1}e.preventDefault()},{passive:!1})):(document.querySelector(".instructions .tutorial").classList.add("hide"),document.querySelector(".game-actions").classList.add("hide"),document.addEventListener("keydown",function(e){e.stopPropagation(),e.preventDefault(),38===e.keyCode||87===e.keyCode?e.shiftKey&&("east"===z||"west"===z)?ye(["north",z]):e.ctrlKey&&("east"===z||"west"===z)?ye(["north","east"===z?"west":"east"]):me("north"):39===e.keyCode||68===e.keyCode?e.shiftKey&&("north"===z||"south"===z)?ye(["east",z]):e.ctrlKey&&("north"===z||"south"===z)?ye(["east","north"===z?"south":"north"]):me("east"):40===e.keyCode||83===e.keyCode?e.shiftKey&&("east"===z||"west"===z)?ye(["south",z]):e.ctrlKey&&("east"===z||"west"===z)?ye(["south","east"===z?"west":"east"]):me("south"):37===e.keyCode||65===e.keyCode?e.shiftKey&&("north"===z||"south"===z)?ye(["west",z]):e.ctrlKey&&("north"===z||"south"===z)?ye(["west","north"===z?"south":"north"]):me("west"):32===e.keyCode&&("stopped"===_||_===void 0)?ge():32===e.keyCode&&"over"!==_?ve():82===e.keyCode&&w===void 0&&Ee()})),document.querySelector(".game-actions .play-pause").addEventListener("touchstart",function(e){e.stopPropagation(),e.preventDefault(),De(),"stopped"===_||_===void 0?ge():"over"!==_&&ve()},{passive:!1}),document.querySelector(".game-actions .reset").addEventListener("touchstart",function(e){e.stopPropagation(),e.preventDefault();this.querySelector("button").disabled||w===void 0&&Ee()},{passive:!1}),window.addEventListener("blur",function(){"play"===_&&ve()},{passive:!1})},Le=function(e){if(e)if(2===e.length){let t="east"===z||"west"===z;ee.unshift(e[t?1:0]),ee.unshift(e[t?0:1])}else me(e[0])},ye=function(e){"play"===_&&(ee.unshift(e[0]),ee.unshift(e[1]))},me=function(e){"play"===_&&ee[0]!==e&&("north"===e&&"south"!==ee[0]&&"south"!==z?ee.unshift(e):"east"===e&&"west"!==ee[0]&&"west"!==z?ee.unshift(e):"south"===e&&"north"!==ee[0]&&"north"!==z?ee.unshift(e):"west"==e&&"east"!==ee[0]&&"east"!==z&&ee.unshift(e))},ge=function(){Ze(),We(+nt("selected"+Te(H)+"Level")||1),Ve(),qe(),we(),_===void 0&&(Ue(!0),ct()),_e(),Ae("play"),Be(he.PAUSE),Je(),ce&&ze(he.PAUSE_BUTTON_LABEL)},ve=function(){"paused"!==_&&"lifeLost"!==_?(w=clearInterval(w),T=clearInterval(T),k=clearInterval(k),C=clearInterval(C),Ae("paused"),Be(he.RESUME),ce&&(ze(he.PLAY_BUTTON_LABEL),De(!1))):("paused"===_||"lifeLost"===_)&&(Ie(),"lifeLost"===_&&(!Me()&&je(),Se(),ct()),qe(),we(),Ae("play"),Be(he.PAUSE),ce&&(ze(he.PAUSE_BUTTON_LABEL),De()))},Ee=function(){Ae("over"),je(),Ue(),Se(),Be(he.START),Je(!1),zt(),ce&&(Ge("play-pause"),ze(he.PLAY_BUTTON_LABEL),De()),Ie(),et()},Se=function(){Ze(),w=void 0,C=clearInterval(C),Q=[],"over"===_?(Ae(),U=3,_e(),oe=0,ie.innerText=oe,Ve()):!Me()&&x<Z.length+J.length&&_e(Z.length+J.length),document.querySelectorAll(".flicker").forEach(function(e){st(e,"flicker")}),document.querySelectorAll(".food").forEach(function(e){st(e,"food")})},fe=function(e){z=e||B},Ae=function(e){_=e},be=function(a){if(a===s)return;let r=null;"north"===a?r="east"===s?"se":"west"===s?"sw":null:"east"===a?r="south"===s?"sw":"north"===s?"nw":null:"south"===a?r="east"===s?"ne":"west"===s?"nw":null:"west"==a&&(r="south"===s?"se":"north"===s?"ne":null),r&&tt([e,t],r)},qe=function(e){w=clearInterval(w),w=setInterval(function(){0<ee.length&&(s=z,fe(ee.pop()),be(z)),Ot()},e||d)},we=function(){k=setInterval(function(){oe+=ae*U,ie.innerText=oe},100)},Te=function(e){return e[0].toUpperCase()+e.slice(1)},ke=function(e){let t=getComputedStyle(e),s=parseFloat(t.marginLeft)+parseFloat(t.marginRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.width),a=parseFloat(t.marginTop)+parseFloat(t.marginBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth)+parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+parseFloat(t.height);return{width:s,height:a}},Ce=function(){return"classic"===H},Pe=function(){return"challenge"===H},Me=function(){return"maze"===H},_e=function(e){R=e||Ne(),x=R},Ne=function(){return Ce()?1===ae?3:N*(ae-1):10+ae},Oe=function(e){oe+=(e||10)*ae},Ie=function(){document.querySelectorAll(".game-arena-display div.trail").forEach(function(e){e.classList.remove("trail")})},Re=function(){document.querySelector("span.available:nth-of-type("+U--+")").classList.remove("available")},Ue=function(e){document.querySelectorAll("span").forEach(function(t){t.classList[e?"add":"remove"]("available")})},Be=function(e){document.querySelector("div.message").innerHTML=e||""},ze=function(e){document.querySelector(".button.play-pause button").innerHTML=e||he.PLAY_BUTTON_LABEL},xe=function(){b=Me()?45:27,q=Me()?45:63},De=function(e){e=!(e!==void 0),document.querySelector(".button.reset button").disabled=e},Ge=function(e,t){document.querySelector(".button."+e).classList[t?"add":"remove"]("hide")},Ve=function(){d=Ke()},Ke=function(e){return e=e||ae,Pe()?340-(V-20)*e:Me()?D-(V-16)*e:D-V*e+(9<=e?V/2*(e-8):0)},Ye=function(){return Math.round(Math.cbrt(u*h))},We=function(e){ae=e,re.innerText=e},He=function(){let e,t=1;for(;;t++)if(e=Ke(t),Pe()&&e===100)break;else if(Me()&&e===152)break;else if(Ce()&&e===G)break;O=t},Xe=function(){let e=100;if(Ce())I=100/(O*N);else if(Pe()){let t=Et();I=e/Math.pow(t[1]-t[0],2)}else if(Me()){let t=document.querySelectorAll(".maze-path").length;I=e/t}},je=function(){Z.concat(J).forEach(function(e){rt(e)}),setTimeout(function(){Z=[],J=[]},0)},Fe=function(){e=u,t=c,fe(B),ee=[]},Ze=function(){if(Me()){let s,a;s="lifeLost"===_?document.querySelector(".maze-path.head"):document.querySelector(".maze-path.begin"),a=s.getAttribute("data").split(","),e=+a[0],t=+a[1],fe(s.getAttribute("direction")),"north"===z?e++:"south"===z?e--:"east"===z?t--:"west"===z&&t++,s.classList.remove("nw","ne","se","sw","nw-ne","ne-se","se-sw","sw-nw")}else Fe()},Je=function(e){e=!(e!==void 0)||e,document.querySelector(".instructions").classList.remove("show","hide"),document.querySelector(".instructions").classList.add(e?"hide":"show"),e||Pt()},Qe=function(e){return e&&document.querySelector(".rc_"+e[0]+"_"+e[1])},$e=function(e){for(let t=1;t<=l;t++)tt([e[0],t],"crosshair");for(let t=1;t<=a;t++)tt([t,e[1]],"crosshair")},et=function(){document.querySelectorAll(".crosshair").forEach(function(e){e.classList.remove("crosshair"),Ce()&&e.classList.add("empty")})},tt=function(e,t){let s=Qe(e);s&&("[object Array]"===Object.prototype.toString.call(t)?t.forEach(function(e){s.classList.add(e)}):s.classList.add(t),s.classList.remove("empty"))},st=function(e,t){e&&("[object Array]"===Object.prototype.toString.call(t)?t.forEach(function(t){e.classList.remove(t)}):e.classList.remove(t),e.classList.add("empty"))},at=function(e,t){Qe(e);st(Qe(e),t)},rt=function(e){if(e!==void 0){let t=Qe(e);if(t){let e=t.classList.contains("tail");t.classList.remove("path","head","body","tail","trail","nw","ne","se","sw","nw-ne","ne-se","se-sw","sw-nw"),t.classList.add("empty"),!Me()&&e&&"play"===_&&t.classList.add("trail")}}},lt=function(){for(let e,t=0;t<Z.length;t++)if(e=Qe(Z[t]),e&&(e.classList.remove("empty","head","body","trail","nw-ne","ne-se","se-sw","sw-nw"),e.classList.add("path",t===Z.length-1?"head":"body"),0===t&&e.classList.add("tail"),t===Z.length-1)){let t="";"north"===z?t="nw-ne":"east"===z?t="ne-se":"south"===z?t="se-sw":"west"===z&&(t="sw-nw"),e.classList.add(t)}},ot=function(e,t){let s=Qe(e);return!!s&&(Me()?s.classList.contains(t):!s.classList.contains(t))},it=function(e){let t=Qe(e);return!(t&&Me())||t.classList.contains("maze-path")},dt=function(e,t){localStorage.setItem(e,t)},nt=function(e){return localStorage.getItem(e)},ct=function(){if(!Me()){var e=document.querySelectorAll(".game-arena-display div.empty:not(.head)");if(0<e.length){let t=e[Math.floor(Math.random()*e.length)],s=t.getAttribute("data").split(","),a=[+s[0],+s[1]];Q.push(a.toString()),tt(a,"food"),et(),$e(a)}}},ht=function(e){e=e||6;let t=document.querySelectorAll(".path");C=setInterval(function(){return-1===e?void(C=clearInterval(C)):void(t.forEach(function(t){t.classList[0==e%2?"add":"remove"]("flicker")}),e--)},200)},ut=function(e){"paused"!==_&&(w=clearInterval(w),Ae("paused"));let t=setInterval(function(){qe(),Ae("play"),t=clearInterval(t)},e||1500)},pt=function(){return!!(Ce()&&d<G)&&(ae--,Nt(10,"Well done! :)",!0),document.querySelectorAll(".food").forEach(function(e){st(e,"food")}),!0)},Lt=function(){let e=nt("snake-game-stats"),t=+nt("unlocked"+Te(H)+"Levels")||1,s={timestamp:new Date().getTime(),level:ae,score:oe,selectedMode:H};if(null!==e){e=JSON.parse(e);let t=e.findIndex(function(e){return e.score<oe});-1===t?e.push(s):e.splice(t,0,s),dt("snake-game-stats",JSON.stringify(e))}else dt("snake-game-stats",JSON.stringify([s]));(Ce()&&ae>t||le)&&(le=!1,!Ce()&&ae++,dt("unlocked"+Te(H)+"Levels",ae)),_t()},yt=function(){let e=+nt("selected"+Te(H)+"Level")||1;return M=P[e-1],M},mt=function(){document.querySelectorAll(".maze-mode .maze-path").forEach(function(e){e.removeAttribute("direction"),e.classList.remove("maze-path","north","south","east","west","begin","end")}),document.querySelector(".game-arena-display").classList.remove("maze-mode")},gt=function(e){mt(),document.querySelector(".game-arena-display").classList.add("maze-mode"),e=e||a,yt();let t,s,r,l,o,i,d,n,c,h=Math.sqrt(M.length),u=e/h,p="maze-path",L=M.length,y=function(e){return Math.round((e+1)*u-1)};M.forEach(function(e,a){if(s="",i=y(e[0]),d=y(e[1]),l=Qe([i,d]),t){t[0]>e[0]?s="north":t[0]<e[0]&&(s="south"),t[1]>e[1]?s="west":t[1]<e[1]&&(s="east"),n=y(t[0]),c=y(t[1]);for(let e=1;e<u;e++)"north"===s?n--:"south"===s?n++:"east"===s?c++:"west"===s&&c--,o=Qe([n,c]),o.classList.add(p,s),o.setAttribute("direction",s);r.classList.add(p),l.classList.add(p,s),r.setAttribute("direction",s),1===a&&r.classList.add(s)}else l.classList.add(p,"begin");L===a+1&&l.classList.add("end",p),t=e,r=l})},vt=function(){return document.querySelector("body").classList.contains("dark")},Et=function(){let e,t=+nt("selected"+Te(H)+"Level")||1,s=vt();return e=3>=t?s?[12,28]:[9,27]:3<t&&6>=t?s?[10,30]:[6,30]:6<t&&9>=t?s?[5,35]:[3,33]:s?[0,40]:[0,36],i=Math.pow(e.reduce((e,t)=>t-e),2),e},St=function(e){n=e[0]+1,c=e[0]+1,h=e[1],u=e[1],Fe()},ft=function(e){e=e||Et(),At(),St(e),document.querySelector(".game-arena-display").classList.add("challenge-mode"),document.querySelectorAll(".empty").forEach(function(t){let s=t.getAttribute("data").split(",");(+s[0]<=e[0]||+s[0]>e[1]||+s[1]<=e[0]||+s[1]>e[1])&&(t.classList.remove("empty"),t.classList.add("danger"))})},At=function(){St(K),document.querySelectorAll(".danger").forEach(function(e){e.classList.remove("danger"),e.classList.add("empty")}),document.querySelector(".game-arena-display").classList.remove("challenge-mode")},bt=function(e){e.stopPropagation(),document.querySelector(".modes div.selected").classList.remove("selected"),this.classList.add("selected"),H=this.getAttribute("data"),dt("selectedMode",H),He(),kt(),Ct(),Pt(),Mt(),Me()?gt():mt(),Pe()?ft():At(),_e(),_t(),Xe(),zt(),xe()},qt=function(e){e.stopPropagation(),document.querySelector(".levels div.selected").classList.remove("selected"),this.classList.add("selected");let t=+this.getAttribute("data");dt("selected"+Te(H)+"Level",t),Me()&&gt(),Pe()&&ft(),_e()},wt=function(){let e,t=document.querySelector(".selectMode .modes"),s=document.createElement("DIV");Y.forEach(function(a){e=s.cloneNode(),e.setAttribute("data",a),e.setAttribute("class","mode"),e.innerText=a,t.appendChild(e)})},Tt=function(){let e=JSON.parse(nt("unlockedModes"))||[H];H=nt("selectedMode")||H,document.querySelectorAll(".selectMode .modes .mode").forEach(function(t){let s=t.getAttribute("data");t.removeEventListener(ce?"touchstart":"click",bt),t.classList.remove("selected","enabled","disabled"),t.addEventListener(ce?"touchstart":"click",bt),s===H?t.classList.add("enabled","selected"):-1===e.indexOf(s.toLowerCase())?(t.classList.add("disabled"),t.removeEventListener(ce?"touchstart":"click",bt)):t.classList.add("enabled")}),Me()?gt():Pe()&&ft()},kt=function(){document.querySelectorAll(".selectLevel .levels .level").forEach(function(e){e.remove()})},Ct=function(){let e,t=document.querySelector(".selectLevel .levels"),s=document.createElement("DIV");for(let a=1;a<=O;a++)e=s.cloneNode(),e.setAttribute("data",a),e.setAttribute("class","level"),e.innerText=a,t.appendChild(e)},Pt=function(){let e=+nt("selected"+Te(H)+"Level")||1,t=+nt("unlocked"+Te(H)+"Levels")||1;document.querySelectorAll(".selectLevel .levels .level").forEach(function(s,a){s.removeEventListener(ce?"touchstart":"click",qt),s.classList.remove("selected","enabled","disabled"),s.addEventListener(ce?"touchstart":"click",qt),e===a+1?s.classList.add("enabled","selected"):t<a+1?(s.classList.add("disabled"),s.removeEventListener(ce?"touchstart":"click",qt)):s.classList.add("enabled")})},Mt=function(){document.querySelectorAll(".instructions .details ol").forEach(function(e){e.classList.contains(H+"-mode")?(e.classList.add("show"),e.classList.remove("hide")):(e.classList.remove("show"),!e.classList.contains("hide")&&e.classList.add("hide"))})},_t=function(e){e=e||3;let t=document.querySelector(".leaderboard"),s=JSON.parse(nt("snake-game-stats"));if(null!==s&&(s=s.filter(function(e){return e.selectedMode===H})),s&&0<s.length){let a=Object.keys(s[0]),r="<div class='row'>";r+="<div class='column head'>S.No</div>",a.forEach(function(e){"timestamp"!==e&&"time"!==e&&(r+="<div class='column head'>"+e+"</div>")}),r+="</div>";for(let t,l=0;l<e;l++)t=s[l],t&&(r+="<div class='row'>",r+="<div class='column'>"+(l+1)+".</div>",a.forEach(function(e){"timestamp"!==e&&"time"!==e&&(r+="<div class='column'>"+t[e]+"</div>")}),r+="</div>");t.innerHTML=r}else t.innerHTML="<div class='message'>"+he.TOP_3_SCORES+"</div>"},Nt=function(e,t,s){s=s!==void 0&&s,w=clearInterval(w),T=clearInterval(T),k=clearInterval(k),ht(e),Me()&&document.querySelector(".maze-mode .head").classList.contains("end")&&(s=!0,t=It(),Lt()),!s&&1<U?(Re(),Ae("lifeLost"),Be(U+he.SPACE+(1===U?he.LIFE_REMAINING:he.LIVES_REMAINING)+he.SPACE+he.RESUME),ze(he.PLAY_BUTTON_LABEL)):(Ae("over"),Ue(),Be(t||he.GAME_OVER+he.SPACE+he.RESET),ce&&Ge("play-pause",!0),!Me()&&Lt()),ce&&De(!1)},Ot=function(){let s=Me()?"maze-path":"body";if("north"===z){if(Z.length<R){if(e>n&&it([e-1,t]))0<Z.length?Z.push([--e,t]):(e-=e===u?0:1,Z.push([e,t]));else return void Nt(7);if(ot([e,t],s))rt(J.shift()),lt();else return void Nt(7)}else{if(J.push(Z.shift()),!(e>n&&ot([e-1,t],s)))return void Nt(7);if(Z.push([--e,t]),ot([e,t],s))rt(J.shift()),lt();else return void Nt(7)}}else if("south"===z){if(Z.length<R){if(e<u&&it([e+1,t]))0<Z.length?Z.push([++e,t]):(e+=e===u?0:1,Z.push([e,t]));else return void Nt(7);if(ot([e,t],s))rt(J.shift()),lt();else return void Nt(7)}else{if(J.push(Z.shift()),!(e<u&&ot([e+1,t],s)))return void Nt(7);if(Z.push([++e,t]),ot([e,t],s))rt(J.shift()),lt();else return void Nt(7)}}else if("east"===z){if(Z.length<R){if(t<h&&it([e,t+1]))0<Z.length?Z.push([e,++t]):(t+=t===h?0:1,Z.push([e,t]));else return void Nt(7);if(ot([e,t],s))rt(J.shift()),lt();else return void Nt(7)}else{if(J.push(Z.shift()),!(t<h&&ot([e,t+1],s)))return void Nt(7);if(Z.push([e,++t]),ot([e,t],s))rt(J.shift()),lt();else return void Nt(7)}}else if("west"===z)if(Z.length<R){if(t>c&&it([e,t-1]))0<Z.length?Z.push([e,--t]):(t-=t===c?0:1,Z.push([e,t]));else return void Nt(7);if(ot([e,t],s))rt(J.shift()),lt();else return void Nt(7)}else{if(J.push(Z.shift()),!(t>c&&ot([e,t-1],s)))return void Nt(7);if(Z.push([e,--t]),ot([e,t],s))rt(J.shift()),lt();else return void Nt(7)}Ut(),Bt(),Me()&&te++,Pe()&&document.querySelectorAll(".game-arena-display div.path").length===i&&Nt(10,It(),!0)},It=function(){let e,t=+nt("selected"+Te(H)+"Level")||1,s=+nt("unlocked"+Te(H)+"Levels")||1;return t===s&&t<O?(e=he.CONGRATULATIONS+he.COMMA+he.LEVEL_UNLOCKED+he.SPACE+he.RESET,le=!0):t<s?e=he.CONGRATULATIONS+he.EXCLAMATION+he.SPACE+he.RESET:e=he.AMAZING+he.COMMA+he.ALL_LEVELS_COMPLETED+he.SPACE+he.RESET,e},Rt=function(){let e=document.querySelector(".level .value"),t=1.9;levelUpInterval=setInterval(function(){t+=.1,e.style.background="repeating-radial-gradient(orange, transparent "+t+"px)",15<t&&(e.style.background="",clearInterval(levelUpInterval))},20)},Ut=function(){let s,a,r=[e,t];return(s=Q.indexOf(r.toString()),-1!==s)?(Q.splice(s,1),at(r,"food"),Oe(),ct(),R+=Pe()?5:1,void(Ce()&&0==R%N&&(re.innerText=++ae,Ve(),pt(d)?re.innerText=ae:(ut(100),Rt())))):(a=$.indexOf(r.toString()),-1!==a)?(Re(),$.splice(a,1),at(r,"danger"),ht(),ut(),void(0===U&&Nt())):void 0},Bt=function(){return se.style.borderColor="#00ff0d",se.style.background="#00ff0d",Ce()&&3<R?void(se.style.width=I*R+"%"):Pe()?void(se.style.width=I*document.querySelectorAll(".game-arena-display div.path").length+"%"):Me()?void(se.style.width=I*te+"%"):void 0},zt=function(){se.style.width=0,se.style.borderColor="transparent",Me()&&(te=0)},xt=function(){dt("unlockedModes",JSON.stringify(W)),H=nt("selectedMode")||H,We(+nt("selected"+Te(H)+"Level")||1),He(),_e(),ue(),wt(),Tt(),Ct(),Pt(),Mt(),_t(),xe(),Xe()};P=[[[1,7],[2,7],[2,8],[2,9],[3,9],[3,10],[4,10],[4,9],[4,8],[3,8],[3,7],[3,6],[4,6],[4,7],[5,7],[5,8],[5,9],[5,10],[5,11],[6,11],[7,11],[8,11],[9,11],[9,10],[10,10],[10,11],[11,11],[11,10],[11,9],[10,9],[9,9],[9,8],[8,8],[8,7],[8,6],[7,6],[7,7],[7,8],[7,9],[8,9],[8,10],[7,10],[6,10],[6,9],[6,8],[6,7],[6,6],[5,6],[5,5],[6,5],[6,4],[6,3],[7,3],[8,3],[8,4],[7,4],[7,5],[8,5],[9,5],[9,6],[9,7],[10,7],[10,8],[11,8],[11,7],[11,6],[10,6],[10,5],[11,5],[11,4],[10,4],[9,4],[9,3],[10,3],[11,3],[11,2],[10,2],[9,2],[9,1],[10,1],[11,1],[11,0],[10,0],[9,0],[8,0],[7,0],[7,1],[8,1],[8,2],[7,2],[6,2],[6,1],[6,0],[5,0],[4,0],[3,0],[3,1],[4,1],[5,1],[5,2],[4,2],[3,2],[2,2],[1,2],[1,1],[2,1],[2,0],[1,0],[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[1,5],[1,4],[1,3],[2,3],[2,4],[3,4],[3,3],[4,3],[5,3],[5,4],[4,4],[4,5],[3,5],[2,5],[2,6],[1,6],[0,6],[0,7],[0,8],[1,8],[1,9],[0,9],[0,10],[0,11],[1,11],[1,10],[2,10],[2,11],[3,11],[4,11]],[[9,1],[10,1],[10,2],[11,2],[11,1],[11,0],[10,0],[9,0],[8,0],[7,0],[6,0],[5,0],[5,1],[6,1],[6,2],[5,2],[4,2],[4,3],[3,3],[3,2],[3,1],[4,1],[4,0],[3,0],[2,0],[2,1],[1,1],[1,0],[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[1,6],[1,7],[0,7],[0,8],[0,9],[1,9],[1,8],[2,8],[2,9],[2,10],[1,10],[0,10],[0,11],[1,11],[2,11],[3,11],[3,10],[4,10],[4,11],[5,11],[5,10],[6,10],[6,11],[7,11],[8,11],[9,11],[9,10],[9,9],[8,9],[8,10],[7,10],[7,9],[6,9],[5,9],[5,8],[6,8],[7,8],[7,7],[6,7],[5,7],[5,6],[5,5],[4,5],[4,6],[4,7],[4,8],[4,9],[3,9],[3,8],[3,7],[2,7],[2,6],[3,6],[3,5],[2,5],[1,5],[1,4],[1,3],[1,2],[2,2],[2,3],[2,4],[3,4],[4,4],[5,4],[5,3],[6,3],[6,4],[6,5],[6,6],[7,6],[7,5],[7,4],[8,4],[8,3],[7,3],[7,2],[7,1],[8,1],[8,2],[9,2],[9,3],[10,3],[11,3],[11,4],[11,5],[10,5],[10,4],[9,4],[9,5],[8,5],[8,6],[8,7],[8,8],[9,8],[10,8],[10,9],[10,10],[10,11],[11,11],[11,10],[11,9],[11,8],[11,7],[11,6],[10,6],[10,7],[9,7],[9,6]],[[1,11],[0,11],[0,10],[0,9],[0,8],[0,7],[0,6],[0,5],[0,4],[0,3],[0,2],[0,1],[0,0],[1,0],[2,0],[3,0],[3,1],[4,1],[4,0],[5,0],[5,1],[5,2],[4,2],[3,2],[2,2],[2,1],[1,1],[1,2],[1,3],[2,3],[3,3],[4,3],[5,3],[5,4],[5,5],[5,6],[6,6],[6,5],[7,5],[8,5],[8,4],[7,4],[6,4],[6,3],[6,2],[7,2],[7,3],[8,3],[8,2],[9,2],[10,2],[10,1],[9,1],[8,1],[7,1],[6,1],[6,0],[7,0],[8,0],[9,0],[10,0],[11,0],[11,1],[11,2],[11,3],[11,4],[11,5],[10,5],[10,4],[10,3],[9,3],[9,4],[9,5],[9,6],[9,7],[8,7],[8,6],[7,6],[7,7],[7,8],[8,8],[9,8],[10,8],[10,7],[10,6],[11,6],[11,7],[11,8],[11,9],[10,9],[10,10],[11,10],[11,11],[10,11],[9,11],[9,10],[9,9],[8,9],[8,10],[8,11],[7,11],[6,11],[5,11],[4,11],[3,11],[2,11],[2,10],[1,10],[1,9],[1,8],[1,7],[1,6],[1,5],[1,4],[2,4],[2,5],[2,6],[2,7],[3,7],[3,8],[2,8],[2,9],[3,9],[3,10],[4,10],[4,9],[4,8],[5,8],[5,9],[5,10],[6,10],[7,10],[7,9],[6,9],[6,8],[6,7],[5,7],[4,7],[4,6],[3,6],[3,5],[4,5],[4,4],[3,4]],[[5,1],[6,1],[7,1],[8,1],[8,2],[9,2],[9,1],[9,0],[8,0],[7,0],[6,0],[5,0],[4,0],[3,0],[2,0],[2,1],[1,1],[1,0],[0,0],[0,1],[0,2],[1,2],[1,3],[0,3],[0,4],[1,4],[1,5],[0,5],[0,6],[0,7],[0,8],[0,9],[0,10],[0,11],[1,11],[2,11],[3,11],[4,11],[5,11],[5,10],[4,10],[4,9],[3,9],[3,10],[2,10],[1,10],[1,9],[2,9],[2,8],[1,8],[1,7],[1,6],[2,6],[2,5],[2,4],[3,4],[3,3],[2,3],[2,2],[3,2],[3,1],[4,1],[4,2],[5,2],[5,3],[4,3],[4,4],[4,5],[3,5],[3,6],[4,6],[5,6],[6,6],[6,5],[5,5],[5,4],[6,4],[6,3],[6,2],[7,2],[7,3],[7,4],[7,5],[8,5],[8,4],[8,3],[9,3],[9,4],[9,5],[10,5],[10,4],[10,3],[10,2],[10,1],[10,0],[11,0],[11,1],[11,2],[11,3],[11,4],[11,5],[11,6],[10,6],[10,7],[11,7],[11,8],[11,9],[11,10],[11,11],[10,11],[9,11],[9,10],[10,10],[10,9],[10,8],[9,8],[9,9],[8,9],[8,8],[8,7],[9,7],[9,6],[8,6],[7,6],[7,7],[7,8],[7,9],[7,10],[8,10],[8,11],[7,11],[6,11],[6,10],[6,9],[5,9],[5,8],[6,8],[6,7],[5,7],[4,7],[4,8],[3,8],[3,7],[2,7]],[[11,11],[11,10],[11,9],[11,8],[11,7],[11,6],[11,5],[10,5],[10,6],[10,7],[10,8],[10,9],[9,9],[9,8],[9,7],[9,6],[9,5],[8,5],[7,5],[7,6],[8,6],[8,7],[7,7],[7,8],[8,8],[8,9],[8,10],[9,10],[10,10],[10,11],[9,11],[8,11],[7,11],[7,10],[7,9],[6,9],[6,10],[6,11],[5,11],[5,10],[5,9],[5,8],[6,8],[6,7],[5,7],[5,6],[6,6],[6,5],[6,4],[7,4],[8,4],[9,4],[9,3],[10,3],[10,4],[11,4],[11,3],[11,2],[11,1],[11,0],[10,0],[9,0],[8,0],[8,1],[9,1],[10,1],[10,2],[9,2],[8,2],[8,3],[7,3],[7,2],[6,2],[6,3],[5,3],[5,2],[4,2],[3,2],[3,1],[4,1],[5,1],[6,1],[7,1],[7,0],[6,0],[5,0],[4,0],[3,0],[2,0],[1,0],[0,0],[0,1],[0,2],[1,2],[1,1],[2,1],[2,2],[2,3],[3,3],[4,3],[4,4],[5,4],[5,5],[4,5],[4,6],[4,7],[4,8],[4,9],[3,9],[2,9],[2,10],[3,10],[4,10],[4,11],[3,11],[2,11],[1,11],[0,11],[0,10],[1,10],[1,9],[0,9],[0,8],[0,7],[0,6],[0,5],[0,4],[0,3],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[2,8],[3,8],[3,7],[2,7],[2,6],[2,5],[2,4],[3,4],[3,5],[3,6]],[[2,2],[3,2],[3,3],[4,3],[4,2],[5,2],[5,3],[6,3],[6,2],[7,2],[7,3],[8,3],[8,2],[9,2],[9,3],[10,3],[10,4],[10,5],[9,5],[9,4],[8,4],[7,4],[6,4],[5,4],[4,4],[3,4],[3,5],[4,5],[5,5],[5,6],[4,6],[4,7],[4,8],[4,9],[4,10],[3,10],[3,11],[4,11],[5,11],[6,11],[6,10],[5,10],[5,9],[5,8],[5,7],[6,7],[7,7],[7,6],[6,6],[6,5],[7,5],[8,5],[8,6],[8,7],[8,8],[7,8],[6,8],[6,9],[7,9],[7,10],[7,11],[8,11],[8,10],[8,9],[9,9],[9,10],[9,11],[10,11],[11,11],[11,10],[10,10],[10,9],[11,9],[11,8],[11,7],[10,7],[10,8],[9,8],[9,7],[9,6],[10,6],[11,6],[11,5],[11,4],[11,3],[11,2],[10,2],[10,1],[11,1],[11,0],[10,0],[9,0],[9,1],[8,1],[8,0],[7,0],[7,1],[6,1],[6,0],[5,0],[5,1],[4,1],[4,0],[3,0],[3,1],[2,1],[2,0],[1,0],[0,0],[0,1],[1,1],[1,2],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7],[1,7],[2,7],[2,8],[1,8],[0,8],[0,9],[1,9],[1,10],[0,10],[0,11],[1,11],[2,11],[2,10],[2,9],[3,9],[3,8],[3,7],[3,6],[2,6],[1,6],[1,5],[1,4],[1,3],[2,3],[2,4],[2,5]],[[2,0],[1,0],[0,0],[0,1],[0,2],[0,3],[0,4],[1,4],[1,3],[1,2],[1,1],[2,1],[3,1],[3,0],[4,0],[4,1],[4,2],[3,2],[2,2],[2,3],[3,3],[3,4],[2,4],[2,5],[3,5],[4,5],[4,6],[5,6],[6,6],[6,7],[7,7],[7,6],[7,5],[6,5],[5,5],[5,4],[4,4],[4,3],[5,3],[5,2],[5,1],[5,0],[6,0],[7,0],[8,0],[8,1],[8,2],[8,3],[7,3],[7,2],[7,1],[6,1],[6,2],[6,3],[6,4],[7,4],[8,4],[9,4],[10,4],[10,5],[9,5],[8,5],[8,6],[9,6],[10,6],[10,7],[9,7],[8,7],[8,8],[7,8],[6,8],[5,8],[5,7],[4,7],[3,7],[3,6],[2,6],[2,7],[2,8],[1,8],[1,7],[1,6],[1,5],[0,5],[0,6],[0,7],[0,8],[0,9],[1,9],[2,9],[3,9],[3,8],[4,8],[4,9],[4,10],[3,10],[2,10],[1,10],[0,10],[0,11],[1,11],[2,11],[3,11],[4,11],[5,11],[6,11],[6,10],[5,10],[5,9],[6,9],[7,9],[8,9],[9,9],[9,8],[10,8],[10,9],[10,10],[9,10],[8,10],[7,10],[7,11],[8,11],[9,11],[10,11],[11,11],[11,10],[11,9],[11,8],[11,7],[11,6],[11,5],[11,4],[11,3],[10,3],[9,3],[9,2],[10,2],[11,2],[11,1],[11,0],[10,0],[10,1],[9,1],[9,0]],[[4,2],[4,1],[4,0],[3,0],[2,0],[2,1],[3,1],[3,2],[2,2],[1,2],[1,1],[1,0],[0,0],[0,1],[0,2],[0,3],[0,4],[1,4],[1,3],[2,3],[2,4],[3,4],[3,3],[4,3],[4,4],[5,4],[6,4],[7,4],[7,5],[8,5],[8,4],[8,3],[7,3],[7,2],[7,1],[6,1],[6,2],[6,3],[5,3],[5,2],[5,1],[5,0],[6,0],[7,0],[8,0],[9,0],[10,0],[11,0],[11,1],[11,2],[10,2],[10,1],[9,1],[8,1],[8,2],[9,2],[9,3],[10,3],[11,3],[11,4],[10,4],[9,4],[9,5],[10,5],[11,5],[11,6],[10,6],[9,6],[8,6],[7,6],[7,7],[6,7],[5,7],[5,6],[6,6],[6,5],[5,5],[4,5],[4,6],[4,7],[4,8],[5,8],[5,9],[4,9],[4,10],[5,10],[6,10],[6,9],[6,8],[7,8],[8,8],[8,7],[9,7],[9,8],[10,8],[10,7],[11,7],[11,8],[11,9],[10,9],[9,9],[8,9],[7,9],[7,10],[8,10],[9,10],[10,10],[11,10],[11,11],[10,11],[9,11],[8,11],[7,11],[6,11],[5,11],[4,11],[3,11],[2,11],[2,10],[3,10],[3,9],[2,9],[1,9],[1,8],[2,8],[3,8],[3,7],[2,7],[2,6],[3,6],[3,5],[2,5],[1,5],[0,5],[0,6],[1,6],[1,7],[0,7],[0,8],[0,9],[0,10],[0,11],[1,11],[1,10]],[[1,7],[1,8],[2,8],[2,7],[3,7],[3,8],[3,9],[4,9],[4,8],[4,7],[5,7],[5,6],[4,6],[3,6],[2,6],[2,5],[3,5],[4,5],[4,4],[3,4],[2,4],[1,4],[1,3],[1,2],[1,1],[2,1],[2,2],[2,3],[3,3],[3,2],[3,1],[3,0],[2,0],[1,0],[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[1,5],[1,6],[0,6],[0,7],[0,8],[0,9],[0,10],[0,11],[1,11],[1,10],[1,9],[2,9],[2,10],[2,11],[3,11],[3,10],[4,10],[4,11],[5,11],[5,10],[5,9],[5,8],[6,8],[6,9],[6,10],[6,11],[7,11],[7,10],[7,9],[8,9],[8,10],[8,11],[9,11],[9,10],[9,9],[10,9],[10,10],[10,11],[11,11],[11,10],[11,9],[11,8],[11,7],[11,6],[10,6],[10,7],[10,8],[9,8],[8,8],[7,8],[7,7],[6,7],[6,6],[7,6],[8,6],[8,7],[9,7],[9,6],[9,5],[10,5],[11,5],[11,4],[10,4],[9,4],[9,3],[8,3],[7,3],[7,2],[8,2],[9,2],[9,1],[10,1],[10,2],[10,3],[11,3],[11,2],[11,1],[11,0],[10,0],[9,0],[8,0],[8,1],[7,1],[7,0],[6,0],[5,0],[4,0],[4,1],[4,2],[4,3],[5,3],[5,2],[5,1],[6,1],[6,2],[6,3],[6,4],[5,4],[5,5],[6,5],[7,5],[7,4],[8,4],[8,5]],[[4,10],[3,10],[2,10],[1,10],[1,9],[1,8],[2,8],[2,9],[3,9],[3,8],[4,8],[4,9],[5,9],[5,10],[6,10],[6,9],[6,8],[5,8],[5,7],[4,7],[3,7],[2,7],[1,7],[1,6],[0,6],[0,7],[0,8],[0,9],[0,10],[0,11],[1,11],[2,11],[3,11],[4,11],[5,11],[6,11],[7,11],[8,11],[8,10],[7,10],[7,9],[7,8],[8,8],[8,9],[9,9],[10,9],[10,10],[9,10],[9,11],[10,11],[11,11],[11,10],[11,9],[11,8],[11,7],[10,7],[10,8],[9,8],[9,7],[8,7],[7,7],[6,7],[6,6],[5,6],[4,6],[3,6],[2,6],[2,5],[3,5],[4,5],[5,5],[5,4],[4,4],[3,4],[2,4],[2,3],[1,3],[1,4],[1,5],[0,5],[0,4],[0,3],[0,2],[1,2],[1,1],[0,1],[0,0],[1,0],[2,0],[2,1],[2,2],[3,2],[3,3],[4,3],[4,2],[4,1],[3,1],[3,0],[4,0],[5,0],[5,1],[6,1],[6,0],[7,0],[8,0],[9,0],[10,0],[11,0],[11,1],[11,2],[11,3],[11,4],[11,5],[11,6],[10,6],[10,5],[10,4],[10,3],[10,2],[10,1],[9,1],[8,1],[7,1],[7,2],[6,2],[5,2],[5,3],[6,3],[7,3],[8,3],[8,2],[9,2],[9,3],[9,4],[9,5],[9,6],[8,6],[7,6],[7,5],[6,5],[6,4],[7,4],[8,4],[8,5]],[[4,0],[5,0],[5,1],[5,2],[5,3],[4,3],[3,3],[3,4],[4,4],[5,4],[5,5],[4,5],[4,6],[5,6],[6,6],[6,7],[7,7],[7,6],[8,6],[8,5],[7,5],[6,5],[6,4],[7,4],[8,4],[8,3],[8,2],[8,1],[7,1],[7,2],[7,3],[6,3],[6,2],[6,1],[6,0],[7,0],[8,0],[9,0],[10,0],[11,0],[11,1],[10,1],[9,1],[9,2],[10,2],[11,2],[11,3],[10,3],[9,3],[9,4],[9,5],[9,6],[9,7],[8,7],[8,8],[9,8],[9,9],[8,9],[7,9],[7,8],[6,8],[6,9],[6,10],[7,10],[8,10],[9,10],[10,10],[10,9],[10,8],[10,7],[10,6],[10,5],[10,4],[11,4],[11,5],[11,6],[11,7],[11,8],[11,9],[11,10],[11,11],[10,11],[9,11],[8,11],[7,11],[6,11],[5,11],[5,10],[5,9],[5,8],[5,7],[4,7],[3,7],[3,8],[4,8],[4,9],[3,9],[3,10],[4,10],[4,11],[3,11],[2,11],[2,10],[2,9],[1,9],[1,10],[1,11],[0,11],[0,10],[0,9],[0,8],[0,7],[0,6],[0,5],[0,4],[1,4],[1,5],[1,6],[1,7],[1,8],[2,8],[2,7],[2,6],[3,6],[3,5],[2,5],[2,4],[2,3],[1,3],[0,3],[0,2],[1,2],[1,1],[0,1],[0,0],[1,0],[2,0],[3,0],[3,1],[2,1],[2,2],[3,2],[4,2],[4,1]],[[10,10],[9,10],[8,10],[7,10],[7,11],[8,11],[9,11],[10,11],[11,11],[11,10],[11,9],[11,8],[11,7],[11,6],[11,5],[11,4],[10,4],[10,5],[10,6],[10,7],[10,8],[10,9],[9,9],[9,8],[8,8],[8,9],[7,9],[6,9],[6,10],[6,11],[5,11],[4,11],[4,10],[5,10],[5,9],[4,9],[3,9],[3,10],[3,11],[2,11],[2,10],[1,10],[1,11],[0,11],[0,10],[0,9],[0,8],[1,8],[1,9],[2,9],[2,8],[3,8],[3,7],[3,6],[4,6],[4,7],[4,8],[5,8],[6,8],[7,8],[7,7],[8,7],[9,7],[9,6],[8,6],[8,5],[9,5],[9,4],[8,4],[7,4],[7,5],[7,6],[6,6],[6,7],[5,7],[5,6],[5,5],[6,5],[6,4],[5,4],[5,3],[4,3],[3,3],[3,4],[4,4],[4,5],[3,5],[2,5],[1,5],[1,6],[2,6],[2,7],[1,7],[0,7],[0,6],[0,5],[0,4],[0,3],[0,2],[0,1],[0,0],[1,0],[2,0],[2,1],[1,1],[1,2],[1,3],[1,4],[2,4],[2,3],[2,2],[3,2],[3,1],[3,0],[4,0],[4,1],[4,2],[5,2],[5,1],[6,1],[7,1],[8,1],[8,2],[7,2],[6,2],[6,3],[7,3],[8,3],[9,3],[9,2],[9,1],[10,1],[10,2],[10,3],[11,3],[11,2],[11,1],[11,0],[10,0],[9,0],[8,0],[7,0],[6,0],[5,0]]],xt()})();