/**
 * @author: Kapil Kashyap
 * This is a WIP and will be configuration driven in later versions
 */
import e from"../../assets/config.js";let init=()=>{let e=!1,t=!1,n=(n,o,i,r)=>{document.querySelector(n).addEventListener(o,()=>{document.dispatchEvent(new KeyboardEvent(i,{...r,ctrlKey:e,shiftKey:t})),setTimeout(()=>{e=!1,t=!1},0)},!0)};n(".direction-buttons .row .top .shape","click","keydown",{code:"ArrowUp"}),n(".direction-buttons .row .right .shape","click","keydown",{code:"ArrowRight"}),n(".direction-buttons .row .down .shape","click","keydown",{code:"ArrowDown"}),n(".direction-buttons .row .left .shape","click","keydown",{code:"ArrowLeft"}),document.querySelector(".action-buttons .action-button.x .button").addEventListener("click",()=>{t=!1,e=!0},!0),document.querySelector(".action-buttons .action-button.y .button").addEventListener("click",()=>{e=!1,t=!0},!0)};(()=>{let t=new Promise(t=>{let n=new XMLHttpRequest;n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&t(n.responseText)},n.open("GET",`${e.isDevMode?"gamepad":"dist"}/direction-buttons.html`,!0),n.send()}),n=new Promise(t=>{let n=new XMLHttpRequest;n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&t(n.responseText)},n.open("GET",`${e.isDevMode?"gamepad":"dist"}/action-buttons.html`,!0),n.send()});Promise.all([t,n]).then(e=>{let t=document.querySelector(".gamepad");null!==t&&(t.innerHTML=e.join(""),init())})})();