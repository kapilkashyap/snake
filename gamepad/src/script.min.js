/**
 * @author: Kapil Kashyap
 * This is a WIP and will be configuration driven in later versions
 */
import t from"../../assets/config.js";let init=()=>{let t={ctrlKey:!1,shiftKey:!1},e=()=>{setTimeout(()=>{t.shiftKey=!1,t.ctrlKey=!1},0)},n=(n,o,i,r)=>{document.querySelector(n).addEventListener(o,()=>{document.dispatchEvent(new KeyboardEvent(i,{...r,...t})),e()},!0)};n(".direction-buttons .row .top.button","click","keydown",{code:"ArrowUp"}),n(".direction-buttons .row .right.button","click","keydown",{code:"ArrowRight"}),n(".direction-buttons .row .down.button","click","keydown",{code:"ArrowDown"}),n(".direction-buttons .row .left.button","click","keydown",{code:"ArrowLeft"}),document.querySelector(".action-buttons .action-button.x").addEventListener("click",()=>{t.shiftKey=!1,t.ctrlKey=!0},!0),document.querySelector(".action-buttons .action-button.y").addEventListener("click",()=>{t.shiftKey=!0,t.ctrlKey=!1},!0)};(()=>{let e=new Promise(e=>{let n=new XMLHttpRequest;n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&e(n.responseText)},n.open("GET",`${t.isDevMode?"gamepad":"dist"}/direction-buttons.html`,!0),n.send()}),n=new Promise(e=>{let n=new XMLHttpRequest;n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&e(n.responseText)},n.open("GET",`${t.isDevMode?"gamepad":"dist"}/action-buttons.html`,!0),n.send()});Promise.all([e,n]).then(t=>{let e=document.querySelector(".gamepad");null!==e&&(e.innerHTML=t.join(""),init())})})();