/**
 * @author: Kapil Kashyap
 * This is a WIP and will be configuration driven in later versions
 */
import t from"../../assets/config.js";let init=()=>{let t=!1,e=!1,n=(n,o,r,i)=>{document.querySelector(n).addEventListener(o,()=>{document.dispatchEvent(new KeyboardEvent(r,{...i,ctrlKey:t,shiftKey:e}))},!0)};n(".direction-buttons .row .top .shape","click","keydown",{code:"ArrowUp"}),n(".direction-buttons .row .right .shape","click","keydown",{code:"ArrowRight"}),n(".direction-buttons .row .down .shape","click","keydown",{code:"ArrowDown"}),n(".direction-buttons .row .left .shape","click","keydown",{code:"ArrowLeft"}),document.querySelector(".action-buttons .action-button.x .button").addEventListener("touchstart",()=>{t=!0},!0),document.querySelector(".action-buttons .action-button.x .button").addEventListener("touchend",()=>{t=!1},!0),document.querySelector(".action-buttons .action-button.y .button").addEventListener("touchstart",()=>{e=!0},!0),document.querySelector(".action-buttons .action-button.y .button").addEventListener("touchend",()=>{e=!1},!0)};(()=>{let e=new Promise(e=>{let n=new XMLHttpRequest;n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&e(n.responseText)},n.open("GET",`${t.isDevMode?"":"dist/"}gamepad/direction-buttons.html`,!0),n.send()}),n=new Promise(e=>{let n=new XMLHttpRequest;n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&e(n.responseText)},n.open("GET",`${t.isDevMode?"":"dist/"}gamepad/action-buttons.html`,!0),n.send()});Promise.all([e,n]).then(t=>{let e=document.querySelector(".gamepad");null!==e&&(e.innerHTML=t.join(""),init())})})();