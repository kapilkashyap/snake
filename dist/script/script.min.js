/**
 * @author: Kapil Kashyap
 */
import e from"../assets/data/predefined-maze-coordinates.js";!function(){let t="north",s,n,o=3,i=3,r=t,l,a=0,c,u,d,f,h,p=[],L,m,y,v,$=["classic","challenge","maze"],g=$[0],E,_,A,S,b=e["12x12"],w,T=[],q=[],P=[],M=[],O=[],N,C,R,k=0,I,U=document.querySelector(".game-indicator .progress-bar"),B=1,z=document.querySelector(".level>.value"),D=!1,K=0,x=document.querySelector(".score>.value"),G=!!/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)&&(/iPad/i.test(navigator.userAgent)?document.body.style.zoom="175%":document.body.style.zoom="200%",document.body.classList.add("portable-device"),!0),V={START:G?"Press play button to start.":"Press space bar to start.",RESET:G?"Press reset button.":"Press 'R' to reset.",PAUSE:G?"":"Press space bar to pause.",RESUME:G?"Press play button to resume.":"Press space bar to resume.",LIVES_REMAINING:"lives remaining!",LIFE_REMAINING:"life remaining!",GAME_OVER:"Game over!",CONGRATULATIONS:"Congratulations",LEVEL_UNLOCKED:"level unlocked!",AMAZING:"Amazing",ALL_LEVELS_COMPLETED:"all levels completed!",TOP_3_SCORES:"Your top 3 scores will appear here...",PLAY_BUTTON_LABEL:"Play",PAUSE_BUTTON_LABEL:"Pause",DISCLAIMER:"Works best on desktop.",EXCLAMATION:"!",COMMA:", ",SPACE:" ",WELL_DONE:"Congratulations & well done! :)"},W=function(){let e=document.querySelector(".game-arena-display"),t=e.getBoundingClientRect(),s=e.querySelector("div"),n=er(s),o=document.createElement("DIV"),i=null,r=1,l=1;c=Math.floor(t.height/n.height),d=(u=Math.floor(t.width/n.width))*c,p=[0,u],s.remove();for(let a=0;a<d;a++)l=a%u+1,a>=u&&1===l&&r++,(i=o.cloneNode()).setAttribute("data",[r,l]),i.setAttribute("class","empty rc_"+r+"_"+l),e.appendChild(i);eW(p),eg(),C=e_(),em(V.START),Y()},Y=function(){document.querySelectorAll(".life .value span").forEach(function(e){e.innerHTML="&#9829;"}),document.addEventListener("keydown",function(e){e.stopPropagation(),e.preventDefault(),"ArrowUp"===e.code||"KeyW"===e.code?e.shiftKey&&("east"===r||"west"===r)?H(["north",r]):e.ctrlKey&&("east"===r||"west"===r)?H(["north","east"===r?"west":"east"]):j("north"):"ArrowRight"===e.code||"KeyD"===e.code?e.shiftKey&&("north"===r||"south"===r)?H(["east",r]):e.ctrlKey&&("north"===r||"south"===r)?H(["east","north"===r?"south":"north"]):j("east"):"ArrowDown"===e.code||"KeyS"===e.code?e.shiftKey&&("east"===r||"west"===r)?H(["south",r]):e.ctrlKey&&("east"===r||"west"===r)?H(["south","east"===r?"west":"east"]):j("south"):"ArrowLeft"===e.code||"KeyA"===e.code?e.shiftKey&&("north"===r||"south"===r)?H(["west",r]):e.ctrlKey&&("north"===r||"south"===r)?H(["west","north"===r?"south":"north"]):j("west"):"Space"===e.code&&("stopped"===N||void 0===N)?F():"Space"===e.code&&"over"!==N?X():"KeyR"===e.code&&void 0===E&&Z()}),G&&(document.querySelector(".gamepad").classList.remove("hide"),document.querySelector(".game-actions").classList.remove("hide")),ey(),document.querySelector(".game-actions .play-pause").addEventListener("touchstart",function(e){e.stopPropagation(),e.preventDefault(),ev(),"stopped"===N||void 0===N?F():"over"!==N&&X()},{passive:!1}),document.querySelector(".game-actions .reset").addEventListener("touchstart",function(e){e.stopPropagation(),e.preventDefault(),!this.querySelector("button").disabled&&void 0===E&&Z()},{passive:!1}),window.addEventListener("blur",function(){"play"===N&&X()},{passive:!1})},H=function(e){"play"===N&&(O.unshift(e[0]),O.unshift(e[1]))},j=function(e){"play"===N&&O[0]!==e&&("north"===e&&"south"!==O[0]&&"south"!==r?O.unshift(e):"east"===e&&"west"!==O[0]&&"west"!==r?O.unshift(e):"south"===e&&"north"!==O[0]&&"north"!==r?O.unshift(e):"west"===e&&"east"!==O[0]&&"east"!==r&&O.unshift(e))},F=function(){eq(),eA(+e1("selected"+ei(g)+"Level")||1),eg(),es(),en(),void 0===N&&(eL(!0),e5()),eu(),ee("play"),em(V.PAUSE),eP(),G&&ey(V.PAUSE_BUTTON_LABEL)},X=function(){"paused"!==N&&"lifeLost"!==N?(E=eo(E),_=eo(_),A=eo(A),S=eo(S),ee("paused"),em(V.RESUME),G&&(ey(V.PLAY_BUTTON_LABEL),ev(!1))):("paused"===N||"lifeLost"===N)&&(eh(),"lifeLost"===N&&(ec()||ew(),J(),e5()),es(),en(),ee("play"),em(V.PAUSE),G&&(ey(V.PAUSE_BUTTON_LABEL),ev()))},Z=function(){ee("over"),ew(),eL(),J(),em(V.START),eP(!1),tn(),G&&(e$("play-pause"),ey(V.PLAY_BUTTON_LABEL),ev()),eh(),eO()},J=function(){eq(),E=void 0,S=eo(S),P=[],"over"===N?(ee(),i=3,eu(),K=0,x.innerText=K,eg()):!ec()&&a<T.length+q.length&&eu(T.length+q.length),document.querySelectorAll(".flicker").forEach(function(e){eC(e,"flicker")}),document.querySelectorAll(".food").forEach(function(e){eC(e,"food")})},Q=function(e){r=e||t},ee=function(e){N=e},et=function(e){if(e===l)return;let t=null;"north"===e?t="east"===l?"se":"west"===l?"sw":null:"east"===e?t="south"===l?"sw":"north"===l?"nw":null:"south"===e?t="east"===l?"ne":"west"===l?"nw":null:"west"===e&&(t="south"===l?"se":"north"===l?"ne":null),t&&eN([s,n],t)},es=function(e){E=eo(E),E=setInterval(function(){O.length>0&&(l=r,Q(O.pop()),et(r)),eQ()},e||h)},en=function(){A=setInterval(function(){K+=B*i,x.innerText=K},100)},eo=function(e){clearInterval(e)},ei=function(e){return e[0].toUpperCase()+e.slice(1)},er=function(e){let t=getComputedStyle(e),s=parseFloat(t.marginLeft)+parseFloat(t.marginRight)+parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.width),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth)+parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+parseFloat(t.height);return{width:s,height:n}},el=function(){return"classic"===g},ea=function(){return"challenge"===g},ec=function(){return"maze"===g},eu=function(e){a=o=e||ed()},ed=function(){return el()?1===B?3:C*(B-1):10+B},ef=function(e){K+=(e||10)*B},eh=function(){document.querySelectorAll(".game-arena-display div.trail").forEach(function(e){e.classList.remove("trail")})},ep=function(){document.querySelector("span.available:nth-of-type("+i--+")").classList.remove("available")},eL=function(e){document.querySelectorAll("span").forEach(function(t){t.classList[e?"add":"remove"]("available")})},em=function(e){document.querySelector("div.message").innerHTML=e||""},ey=function(e){document.querySelector(".button.play-pause button").innerHTML=e||V.PLAY_BUTTON_LABEL},ev=function(e){e=void 0===e,document.querySelector(".button.reset button").disabled=e},e$=function(e,t){document.querySelector(".button."+e).classList[t?"add":"remove"]("hide")},eg=function(){h=eE()},eE=function(e){return(e=e||B,ea())?340-20*e:ec()?440-24*e:440-40*e+(e>=9?20*(e-8):0)},e_=function(){return Math.round(Math.cbrt(v*y))},eA=function(e){B=e,z.innerText=e},eS=function(){let e,t=1;for(;e=eE(t),(!ea()||100!==e)&&(!ec()||152!==e)&&(!el()||40!==e);t++){}R=t},eb=function(){if(el())I=100/(R*C);else if(ea()){let e=e2();I=100/Math.pow(e[1]-e[0],2)}else ec()&&(I=100/document.querySelectorAll(".maze-path").length)},ew=function(){T.concat(q).forEach(function(e){ek(e)}),setTimeout(function(){T=[],q=[]},0)},eT=function(){s=v,n=m,Q(t),O=[]},eq=function(){if(ec()){let e,t;s=+(t=(e="lifeLost"===N?document.querySelector(".maze-path.head"):document.querySelector(".maze-path.begin")).getAttribute("data").split(","))[0],n=+t[1],Q(e.getAttribute("direction")),"north"===r?s++:"south"===r?s--:"east"===r?n--:"west"===r&&n++,e.classList.remove("nw","ne","se","sw","nw-ne","ne-se","se-sw","sw-nw")}else eT()},eP=function(e){e=void 0===e||e,document.querySelector(".instructions").classList.remove("show","hide"),document.querySelector(".instructions").classList.add(e?"hide":"show"),e||eF()},e8=function(e){return e&&document.querySelector(".rc_"+e[0]+"_"+e[1])},eM=function(e){for(let t=1;t<=u;t++)eN([e[0],t],"crosshair");for(let s=1;s<=c;s++)eN([s,e[1]],"crosshair")},eO=function(){document.querySelectorAll(".crosshair").forEach(function(e){e.classList.remove("crosshair"),el()&&e.classList.add("empty")})},eN=function(e,t){let s=e8(e);s&&("[object Array]"===Object.prototype.toString.call(t)?t.forEach(function(e){s.classList.add(e)}):s.classList.add(t),s.classList.remove("empty"))},eC=function(e,t){e&&("[object Array]"===Object.prototype.toString.call(t)?t.forEach(function(t){e.classList.remove(t)}):e.classList.remove(t),e.classList.add("empty"))},eR=function(e,t){eC(e8(e),t)},ek=function(e){if(void 0!==e){let t=e8(e);if(t){let s=t.classList.contains("tail");t.classList.remove("path","head","body","tail","trail","nw","ne","se","sw","nw-ne","ne-se","se-sw","sw-nw"),t.classList.add("empty"),!ec()&&s&&"play"===N&&t.classList.add("trail")}}},eI=function(){for(let e,t=0;t<T.length;t++)if((e=e8(T[t]))&&(e.classList.remove("empty","head","body","trail","nw-ne","ne-se","se-sw","sw-nw"),e.classList.add("path",t===T.length-1?"head":"body"),0===t&&e.classList.add("tail"),t===T.length-1)){let s="";"north"===r?s="nw-ne":"east"===r?s="ne-se":"south"===r?s="se-sw":"west"===r&&(s="sw-nw"),e.classList.add(s)}},eU=function(e,t){let s=e8(e);return!!s&&(ec()?s.classList.contains(t):!s.classList.contains(t))},eB=function(e){let t=e8(e);return!(t&&ec())||t.classList.contains("maze-path")},ez=function(e,t){localStorage.setItem(e,t)},e1=function(e){return localStorage.getItem(e)},e5=function(){if(ec())return;let e=document.querySelectorAll(".game-arena-display div.empty:not(.head)");if(e.length>0){let t=e[Math.floor(Math.random()*e.length)].getAttribute("data").split(","),s=[+t[0],+t[1]];P.push(s.toString()),eN(s,"food"),eO(),eM(s)}},e0=function(e){e=e||6;let t=document.querySelectorAll(".path");S=setInterval(function(){if(-1===e){S=eo(S);return}t.forEach(function(t){t.classList[e%2==0?"add":"remove"]("flicker")}),e--},200)},eD=function(e){"paused"!==N&&(E=eo(E),ee("paused"));let t=setInterval(function(){es(),ee("play"),eo(t)},e||1500)},eK=function(){let e=e1("snake-game-stats"),t=+e1("unlocked"+ei(g)+"Levels")||1,s={timestamp:new Date().getTime(),level:B,score:K,selectedMode:g};if(null!==e){let n=(e=JSON.parse(e)).findIndex(function(e){return e.score<K});-1!==n?e.splice(n,0,s):e.push(s),ez("snake-game-stats",JSON.stringify(e))}else ez("snake-game-stats",JSON.stringify([s]));(el()&&B>t||D)&&(D=!1,!el()&&B++,ez("unlocked"+ei(g)+"Levels",B)),eZ()},ex=function(){return w=b[(+e1("selected"+ei(g)+"Level")||1)-1]},eG=function(){document.querySelectorAll(".maze-mode .maze-path").forEach(function(e){e.removeAttribute("direction"),e.classList.remove("maze-path","north","south","east","west","begin","end")}),document.querySelector(".game-arena-display").classList.remove("maze-mode")},eV=function(e){eG(),document.querySelector(".game-arena-display").classList.add("maze-mode"),e=e||c,ex();let t=e/Math.sqrt(w.length),s,n,o,i,r,l,a,u,d,f="maze-path",h=w.length,p=function(e){return Math.round((e+1)*t-1)};w.forEach(function(e,c){if(n="",i=e8([l=p(e[0]),a=p(e[1])]),s){s[0]>e[0]?n="north":s[0]<e[0]&&(n="south"),s[1]>e[1]?n="west":s[1]<e[1]&&(n="east"),u=p(s[0]),d=p(s[1]);for(let L=1;L<t;L++)"north"===n?u--:"south"===n?u++:"east"===n?d++:"west"===n&&d--,(r=e8([u,d])).classList.add(f,n),r.setAttribute("direction",n);o.classList.add(f),i.classList.add(f,n),o.setAttribute("direction",n),1===c&&o.classList.add(n)}else i.classList.add(f,"begin");h===c+1&&i.classList.add("end",f),s=e,o=i})},e2=function(){let e=+e1("selected"+ei(g)+"Level")||1,t,s=document.querySelector("body").classList.contains("dark");return f=Math.pow((t=e<=3?s?[12,28]:[9,27]:e>3&&e<=6?s?[10,30]:[6,30]:e>6&&e<=9?s?[5,35]:[3,33]:s?[0,40]:[0,36]).reduce((e,t)=>t-e),2),t},eW=function(e){L=e[0]+1,m=e[0]+1,y=e[1],v=e[1],eT()},e3=function(e){e=e||e2(),eY(),eW(e),document.querySelector(".game-arena-display").classList.add("challenge-mode"),document.querySelectorAll(".empty").forEach(function(t){let s=t.getAttribute("data").split(",");(+s[0]<=e[0]||+s[0]>e[1]||+s[1]<=e[0]||+s[1]>e[1])&&(t.classList.remove("empty"),t.classList.add("danger"))})},eY=function(){eW(p),document.querySelectorAll(".danger").forEach(function(e){e.classList.remove("danger"),e.classList.add("empty")}),document.querySelector(".game-arena-display").classList.remove("challenge-mode")},e7=function(e){e.stopPropagation(),document.querySelector(".modes div.selected").classList.remove("selected"),this.classList.add("selected"),ez("selectedMode",g=this.getAttribute("data")),eS(),ej(),e6(),eF(),eX(),ec()?eV():eG(),ea()?e3():eY(),eu(),eZ(),eb(),tn()},eH=function(e){e.stopPropagation(),document.querySelector(".levels div.selected").classList.remove("selected"),this.classList.add("selected");let t=+this.getAttribute("data");ez("selected"+ei(g)+"Level",t),ec()&&eV(),ea()&&e3(),eu()},e4=function(){let e=JSON.parse(e1("unlockedModes"))||[g];g=e1("selectedMode")||g,document.querySelectorAll(".selectMode .modes .mode").forEach(function(t){let s=t.getAttribute("data");t.removeEventListener(G?"touchstart":"click",e7),t.classList.remove("selected","enabled","disabled"),t.addEventListener(G?"touchstart":"click",e7),s===g?t.classList.add("enabled","selected"):-1===e.indexOf(s.toLowerCase())?(t.classList.add("disabled"),t.removeEventListener(G?"touchstart":"click",e7)):t.classList.add("enabled")}),ec()?eV():ea()&&e3()},ej=function(){document.querySelectorAll(".selectLevel .levels .level").forEach(function(e){e.remove()})},e6=function(){let e=document.querySelector(".selectLevel .levels"),t=document.createElement("DIV"),s;for(let n=1;n<=R;n++)(s=t.cloneNode()).setAttribute("data",n),s.setAttribute("class","level"),s.innerText=n,e.appendChild(s)},eF=function(){let e=+e1("selected"+ei(g)+"Level")||1,t=+e1("unlocked"+ei(g)+"Levels")||1;document.querySelectorAll(".selectLevel .levels .level").forEach(function(s,n){s.removeEventListener(G?"touchstart":"click",eH),s.classList.remove("selected","enabled","disabled"),s.addEventListener(G?"touchstart":"click",eH),e===n+1?s.classList.add("enabled","selected"):t<n+1?(s.classList.add("disabled"),s.removeEventListener(G?"touchstart":"click",eH)):s.classList.add("enabled")})},eX=function(){document.querySelectorAll(".instructions .details .instruction").forEach(function(e){e.classList.contains(g+"-mode")?(e.classList.add("show"),e.classList.remove("hide")):(e.classList.remove("show"),e.classList.contains("hide")||e.classList.add("hide"))})},eZ=function(e){e=e||3;let t=document.querySelector(".leaderboard"),s=JSON.parse(e1("snake-game-stats"));if(null!==s&&(s=s.filter(function(e){return e.selectedMode===g})),s&&s.length>0){let n=Object.keys(s[0]),o="<div class='row'>";o+="<div class='column head'>S.No</div>",n.forEach(function(e){"timestamp"!==e&&"time"!==e&&(o+="<div class='column head'>"+e+"</div>")}),o+="</div>";for(let i,r=0;r<e;r++)(i=s[r])&&(o+="<div class='row'>",o+="<div class='column'>"+(r+1)+".</div>",n.forEach(function(e){"timestamp"!==e&&"time"!==e&&(o+="<div class='column'>"+i[e]+"</div>")}),o+="</div>");t.innerHTML=o}else t.innerHTML="<div class='message'>"+V.TOP_3_SCORES+"</div>"},eJ=function(e,t,s,n){s=void 0!==s&&s,E=eo(E),_=eo(_),A=eo(A),e0(e),n&&(eh(),eO()),ec()&&document.querySelector(".maze-mode .head").classList.contains("end")&&(s=!0,t=e9(),eK()),!s&&i>1?(ep(),ee("lifeLost"),em(i+V.SPACE+(1===i?V.LIFE_REMAINING:V.LIVES_REMAINING)+V.SPACE+V.RESUME),ey(V.PLAY_BUTTON_LABEL)):(ee("over"),eL(),em(t||V.GAME_OVER+V.SPACE+V.RESET),G&&e$("play-pause",!0),ec()||eK()),G&&ev(!1)},eQ=function(){let e=ec()?"maze-path":"body";if("north"===r){if(T.length<o){if(s>L&&eB([s-1,n]))T.length>0?T.push([--s,n]):(s-=s===v?0:1,T.push([s,n]));else{eJ(7);return}if(eU([s,n],e))ek(q.shift()),eI();else{eJ(7);return}}else if(q.push(T.shift()),s>L&&eU([s-1,n],e)){if(T.push([--s,n]),eU([s,n],e))ek(q.shift()),eI();else{eJ(7);return}}else{eJ(7);return}}else if("south"===r){if(T.length<o){if(s<v&&eB([s+1,n]))T.length>0?T.push([++s,n]):(s+=s===v?0:1,T.push([s,n]));else{eJ(7);return}if(eU([s,n],e))ek(q.shift()),eI();else{eJ(7);return}}else if(q.push(T.shift()),s<v&&eU([s+1,n],e)){if(T.push([++s,n]),eU([s,n],e))ek(q.shift()),eI();else{eJ(7);return}}else{eJ(7);return}}else if("east"===r){if(T.length<o){if(n<y&&eB([s,n+1]))T.length>0?T.push([s,++n]):(n+=n===y?0:1,T.push([s,n]));else{eJ(7);return}if(eU([s,n],e))ek(q.shift()),eI();else{eJ(7);return}}else if(q.push(T.shift()),n<y&&eU([s,n+1],e)){if(T.push([s,++n]),eU([s,n],e))ek(q.shift()),eI();else{eJ(7);return}}else{eJ(7);return}}else if("west"===r){if(T.length<o){if(n>m&&eB([s,n-1]))T.length>0?T.push([s,--n]):(n-=n===m?0:1,T.push([s,n]));else{eJ(7);return}if(eU([s,n],e))ek(q.shift()),eI();else{eJ(7);return}}else if(q.push(T.shift()),n>m&&eU([s,n-1],e)){if(T.push([s,--n]),eU([s,n],e))ek(q.shift()),eI();else{eJ(7);return}}else{eJ(7);return}}tt(),ts(),ec()&&k++,ea()&&document.querySelectorAll(".game-arena-display div.path").length===f&&eJ(10,e9(),!0)},e9=function(){let e,t=+e1("selected"+ei(g)+"Level")||1,s=+e1("unlocked"+ei(g)+"Levels")||1;return t===s&&t<R?(e=V.CONGRATULATIONS+V.COMMA+V.LEVEL_UNLOCKED+V.SPACE+V.RESET,D=!0):e=t<s?V.CONGRATULATIONS+V.EXCLAMATION+V.SPACE+V.RESET:V.AMAZING+V.COMMA+V.ALL_LEVELS_COMPLETED+V.SPACE+V.RESET,e},te=function(){let e=document.querySelector(".level .value"),t=1.9,s=setInterval(function(){t+=.1,e.style.background="repeating-radial-gradient(orange, transparent "+t+"px)",t>15&&(e.style.background="",eo(s))},20)},tt=function(){let e,t,r=[s,n];if(-1!==(e=P.indexOf(r.toString()))){P.splice(e,1),eR(r,"food"),ef(),e5(),o+=ea()?5:1,el()&&o%C==0&&(z.innerText=++B,eg(),el()&&h<40&&(B--,eJ(10,V.WELL_DONE,!0,!0),document.querySelectorAll(".food").forEach(function(e){eC(e,"food")}),1)?z.innerText=B:(eD(100),te()));return}-1!==(t=M.indexOf(r.toString()))&&(ep(),M.splice(t,1),eR(r,"danger"),e0(),eD(),0===i&&eJ())},ts=function(){if(U.style.borderColor="#00ff0d",U.style.background="#00ff0d",el()&&o>3){U.style.width=I*o+"%";return}if(ea()){U.style.width=I*document.querySelectorAll(".game-arena-display div.path").length+"%";return}ec()&&(U.style.width=I*k+"%")},tn=function(){U.style.width="0px",U.style.borderColor="transparent",U.style.background="transparent",ec()&&(k=0)},to,ti,tr;ez("unlockedModes",JSON.stringify(["classic","challenge","maze"])),g=e1("selectedMode")||g,eA(+e1("selected"+ei(g)+"Level")||1),eS(),eu(),W(),to=document.querySelector(".selectMode .modes"),ti=document.createElement("DIV"),$.forEach(function(e){(tr=ti.cloneNode()).setAttribute("data",e),tr.setAttribute("class","mode"),tr.innerText=e,to.appendChild(tr)}),e4(),e6(),eF(),eX(),eZ(),eb()}();

/**
 * @author: Kapil Kashyap
 * This is a WIP and will be configuration driven in later versions
 */
const init=()=>{let e=(e,t,o,n)=>{document.querySelector(e).addEventListener(t,e=>{document.dispatchEvent(new KeyboardEvent(o,n))},!0)};e(".direction-buttons .row .top .shape","click","keydown",{keyCode:"38"}),e(".direction-buttons .row .right .shape","click","keydown",{keyCode:"39"}),e(".direction-buttons .row .down .shape","click","keydown",{keyCode:"40"}),e(".direction-buttons .row .left .shape","click","keydown",{keyCode:"37"}),e(".action-buttons .row .top .button","click","keydown",{ctrlKey:!0,keyCode:"38"}),e(".action-buttons .row .right .button","click","keydown",{ctrlKey:!0,keyCode:"39"}),e(".action-buttons .row .down .button","click","keydown",{ctrlKey:!0,keyCode:"40"}),e(".action-buttons .row .left .button","click","keydown",{ctrlKey:!0,keyCode:"37"})};(()=>{let e=new Promise((e,t)=>{let o=new XMLHttpRequest;o.onreadystatechange=()=>{4==o.readyState&&200==o.status&&e(o.responseText)},o.open("GET","dist/direction-buttons.html",!0),o.send()}),t=new Promise((e,t)=>{let o=new XMLHttpRequest;o.onreadystatechange=()=>{4==o.readyState&&200==o.status&&e(o.responseText)},o.open("GET","dist/action-buttons.html",!0),o.send()});Promise.all([e,t]).then(e=>{document.querySelector(".gamepad").innerHTML=e.join(""),init()})})();